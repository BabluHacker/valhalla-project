apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: valhalla

resources:
- ../../base

commonLabels:
  environment: prod

# Using official Valhalla image - no custom image build needed

replicas:
- name: valhalla-api
  count: 6

patches:
- path: deployment-patch.yaml
  target:
    kind: Deployment
    name: valhalla-api
- path: ingress-patch.yaml
  target:
    kind: Ingress
    name: valhalla-api
- path: hpa-patch.yaml
  target:
    kind: HorizontalPodAutoscaler
    name: valhalla-api
